UAGBForms={getElement:e=>{const t=document.querySelector(e+":not(.uagb-activated-script)");return t?(t.classList.add("uagb-activated-script"),t):null},init(c,a,d){const p=UAGBForms.getElement(a);if(p){const o=p.querySelector(".uagb-forms-main-form"),t=o.querySelectorAll(".uagb-forms-phone-input");if(0!==t.length)for(let e=0;e<t.length;e++)t[e].addEventListener("keypress",function(e){e=e.which||e.keyCode;return 45===e||!(31<e&&(e<48||57<e))});const s=o.querySelectorAll(".uagb-forms-toggle-input");if(0!==s.length)for(let t=0;t<s.length;t++)s[t].addEventListener("change",function(){var e;s[t].checked?(e=s[t].getAttribute("data-truestate"),s[t].setAttribute("value",e)):(e=s[t].getAttribute("data-falsestate"),s[t].setAttribute("value",e))});const n=p.querySelectorAll(".uagb-forms-checkbox-wrap");if(0!==n.length)for(let e=0;e<n.length;e++){const i=n[e].querySelectorAll("input[type=checkbox]");if(0<i.length)for(let r=0;r<i.length;r++)i[r].addEventListener("change",function(){var t=i[r].checked,e=i[r].getAttribute("name");const a=document.querySelectorAll('[name="'+e+'"]');for(let e=0;e<a.length;e++)a[e].required=!t})}let a="",r="";if(!0===c.reCaptchaEnable&&"v2"===c.reCaptchaType){if(a=uagb_forms_data.recaptcha_site_key_v2){null===document.querySelector(".uagb-forms-field-set").getAttribute("data-sitekey")&&document.querySelector(".g-recaptcha ").setAttribute("data-sitekey",a);const e=document.createElement("script");e.type="text/javascript",e.src="https://www.google.com/recaptcha/api.js",document.head.appendChild(e)}}else if(!0===c.reCaptchaEnable&&"v3"===c.reCaptchaType&&(r=uagb_forms_data.recaptcha_site_key_v3)){if(c.hidereCaptchaBatch){if(void 0===document.getElementsByClassName("grecaptcha-badge")[0])return;const f=document.getElementsByClassName("grecaptcha-badge")[0];f.style.visibility="hidden"}const g=document.createElement("script");g.type="text/javascript",g.src="https://www.google.com/recaptcha/api.js?render="+r,document.head.appendChild(g)}const l=document.getElementsByClassName("uagb-forms__outer-wrap");if(l?.[0]){const u=l[0].children[0].children;for(let e=0;e<u.length;e++){if(u[e].classList.contains("uag-col-2")&&u[e+1].classList.contains("uag-col-2")){const h=document.createElement("div"),b=(h.className="uag-col-2-wrap uag-col-wrap-"+e,u[e+1].after(h),l[0].getElementsByClassName("uag-col-wrap-"+e));b[0].appendChild(u[e]),b[0].appendChild(u[e])}if(u[e].classList.contains("uag-col-3")&&u[e+1].classList.contains("uag-col-3")&&u[e+2].classList.contains("uag-col-3")){const y=document.createElement("div"),_=(y.className="uag-col-3-wrap uag-col-wrap-"+e,u[e+2].after(y),l[0].getElementsByClassName("uag-col-wrap-"+e));_[0].appendChild(u[e]),_[0].appendChild(u[e]),_[0].appendChild(u[e])}if(u[e].classList.contains("uag-col-4")&&u[e+1].classList.contains("uag-col-4")&&u[e+2].classList.contains("uag-col-4")&&u[e+3].classList.contains("uag-col-4")){const v=document.createElement("div"),m=(v.className="uag-col-4-wrap uag-col-wrap-"+e,u[e+3].after(v),l[0].getElementsByClassName("uag-col-wrap-"+e));m[0].appendChild(u[e]),m[0].appendChild(u[e]),m[0].appendChild(u[e]),m[0].appendChild(u[e])}}}o.addEventListener("submit",function(t){if(t.preventDefault(),!0===c.reCaptchaEnable&&"v3"===c.reCaptchaType&&r){if(0===document.getElementsByClassName("grecaptcha-logo").length)return!(document.querySelector(".uagb-form-reacaptcha-error-"+c.block_id).innerHTML='<p style="color:red !important" class="error-captcha">Invalid Google reCAPTCHA Site Key.</p>');grecaptcha.ready(function(){grecaptcha.execute(r,{action:"submit"}).then(function(e){if(e){if(0===document.getElementsByClassName("uagb-forms-recaptcha").length)return!(document.querySelector(".uagb-form-reacaptcha-error-"+c.block_id).innerHTML='<p style="color:red !important" class="error-captcha">Google reCAPTCHA Response not found.</p>');document.getElementById("g-recaptcha-response").value=e,window.UAGBForms._formSubmit(t,o,c,a,r,d)}})})}else window.UAGBForms._formSubmit(t,this,c,a,r,d)})}},_formSubmit(e,u,c,m,d,p){e.preventDefault();let t;if(""===c.afterSubmitToEmail||null===c.afterSubmitToEmail){const n=document.querySelector('[name="uagb-form-'+c.block_id+'"]'),l=(n.style.display="none",document.querySelector(".uagb-forms-failed-message-"+c.block_id));return l.classList.remove("uagb-forms-submit-message-hide"),l.classList.add("uagb-forms-failed-message"),!1}if(!0===c.reCaptchaEnable)if("v2"===c.reCaptchaType&&m){if(0===document.getElementsByClassName("uagb-forms-recaptcha").length)return!(document.querySelector(".uagb-form-reacaptcha-error-"+c.block_id).innerHTML='<p style="color:red !important" class="error-captcha"> Google reCAPTCHA Response not found.</p>');if(!(t=document.getElementById("g-recaptcha-response").value))return document.querySelector(".uagb-form-reacaptcha-error-"+c.block_id).innerHTML='<p style="color:red !important" class="error-captcha">'+c.captchaMessage+"</p>",!1;document.querySelector(".uagb-form-reacaptcha-error-"+c.block_id).innerHTML=""}else"v3"===c.reCaptchaType&&d&&(t=document.getElementById("g-recaptcha-response").value);const a=window.UAGBForms._serializeIt(u),r={};r.id=c.block_id;for(let e=0;e<a.length;e++){var o,s=document.getElementById(a[e].name);a[e].name.endsWith("[]")?((o=a[e].name.replace(/[\[\]']+/g,""))in r||(r[o]=[]),r[o].push(a[e].value)):null!==s&&(r[s.innerHTML]=a[e].value);const i=document.getElementById("hidden");null!==i&&void 0!==i&&(r[i.getAttribute("name")]=i.getAttribute("value"))}fetch(uagb_forms_data.ajax_url,{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:new URLSearchParams({action:"uagb_process_forms",nonce:uagb_forms_data.uagb_forms_ajax_nonce,form_data:JSON.stringify(r),sendAfterSubmitEmail:c.sendAfterSubmitEmail,captcha_version:c.reCaptchaType,captcha_response:t,post_id:p,block_id:c.block_id})}).then(e=>e.json()).then(function(e){const t=document.querySelector('[name="uagb-form-'+c.block_id+'"]');if(t.style.display="none",200===e.data){if("message"===c.confirmationType){const a=document.querySelector(".uagb-forms-success-message-"+c.block_id);a.classList.remove("uagb-forms-submit-message-hide"),a.classList.add("uagb-forms-success-message")}"url"===c.confirmationType&&window.location.replace(c.confirmationUrl)}else if(400===e.data&&"message"===c.confirmationType){const r=document.querySelector(".uagb-forms-failed-message-"+c.block_id);r.classList.remove("uagb-forms-submit-message-hide"),r.classList.add("uagb-forms-failed-message")}}).catch(function(e){})},_serializeIt(e){return Array.apply(0,e.elements).map(t=>(e=>"radio"!==t.type&&"checkbox"!==t.type||t.checked?e:null)({name:t.name,value:t.value})).filter(e=>e)}};